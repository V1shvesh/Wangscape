{
  "$schema": "http://json-schema.org/draft-04/schema#",
  "type": "object",
  "title": "Wangscape options schema",
  "description": "Specifies how Wangscape should convert a set of terrain tiles into corner Wang tilesets.",
  "properties": {
    "MetaOutput": {
      "type": "object",
      "title": "Meta-output information schema",
      "description": "Specifies the filenames Wangscape will use to write meta-output.",
      "additionalValues": false,
      "properties": {
        "TileData": {
          "type": "string",
          "title": "Tile data filename",
          "description": "Specifies the file which will contain individual details about each output tile.",
          "minLength": 1
        },
        "TilesetData": {
          "type": "string",
          "title": "Tileset data filename",
          "description": "Specifies the file which will contain details about output tilesets.",
          "minLength": 1
        }
      },
      "required": [
        "TileData",
        "TilesetData"
      ]
    },
    "TileFormat": {
      "type": "object",
      "title": "Tile format schema",
      "description": "Specifies the format of Wangscape's input and output tiles.",
      "additionalValues": false,
      "properties": {
        "Resolution": {
          "type": "integer",
          "title": "Tile resolution",
          "description": "Specifies the width and height of the square tiles Wangscape will operate on.",
          "multipleOf": 1,
          "maximum": 512,
          "minimum": 8
        },
        "FileType": {
          "type": "string",
          "title": "File type schema",
          "description": "Specifies the file type of Wangscape's output tiles.",
          "default": "png",
          "enum": [
            "bmp",
            "png",
            "tga",
            "jpg"
          ]
        }
      },
      "required": [
        "Resolution"
      ]
    },
    "OutputDirectory": {
      "type": "string",
      "title": "Output directory schema.",
      "description": "Specifies the directory where Wangscape should write the output tiles (may be wiped first!)",
      "minLength": 1
    },
    "Terrains": {
      "type": "object",
      "title": "Terrains schema",
      "description": "Specifies the names and textures of Wangscape's input terrain tiles.",
      "minProperties": 2,
      "additionalProperties": false,
      "patternProperties": {
        "^[0-9a-zA-Z_-]+$": {
          "type": "object",
          "title": "Terrain schema",
          "description": "Specifies the name and texture of one of Wangscape's input terrain tiles.",
          "additionalProperties": false,
          "properties": {
            "FullName": {
              "type": "string",
              "title": "Full name schema",
              "description": "Specifies the full name of one of Wangscape's input terrain tiles.",
              "minLength": 1
            },
            "ShortName": {
              "type": "string",
              "title": "Short name schema",
              "description": "Specifies the short name of one of Wangscape's input terrain tiles.",
              "minLength": 1
            },
            "FileName": {
              "type": "string",
              "title": "File name schema",
              "description": "Specifies the file in which the texture of one of Wangscape's input terrain tiles can be found.",
              "minLength": 1
            },
            "OffsetX": {
              "type": "integer",
              "title": "X offset schema",
              "description": "Specifies the horizontal offset of the terrain tile's texture in the input image, divided by the tile resolution.",
              "multipleOf": 1,
              "minimum": 0,
              "maximum": 512,
              "default": 0
            },
            "OffsetY": {
              "type": "integer",
              "title": "Y offset schema",
              "description": "Specifies the vertical offset of the terrain tile's texture in the input image, divided by the tile resolution.",
              "multipleOf": 1,
              "minimum": 0,
              "maximum": 512,
              "default": 0
            }
          },
          "required": [
            "FullName",
            "ShortName",
            "FileName"
          ]
        }
      }
    },
    "Cliques": {
      "type": "array",
      "title": "Cliques schema",
      "description": "Specifies terrain type sets for which corner Wang tilesets will be generated.",
      "uniqueItems": true,
      "minItems": 1,
      "items": {
        "type": "array",
        "title": "Clique schema",
        "description": "Specifies a set of 2-4 terrain types for which a corner Wang tileset will be generated.",
        "uniqueItems": true,
        "minItems": 2,
        "maxItems": 4,
        "items": {
          "type": "string",
          "minLength": 1,
          "title": "Clique item schema",
          "description": "Specifies a terrain type by its key in the Terrains property.",
          "pattern": ".+"
        }
      }
    },
    "BorderOffsets": {
      "type": "array",
      "title": "Border offsets schema",
      "description": "Lists border offsets and angles for ordered pairs of terrain types that can neighbour each other.",
      "minItems": 2,
      "items": {
        "type": "object",
        "title": "Border offset schema",
        "description": "Specifies an ordered pair of terrain types that can neighbour each other and the corresponding horizontal and vertical border offsets and angles.",
        "additionalProperties":false,
        "properties": {
          "Terrains": {
            "type": "array",
            "title": "Border offset identifier schema",
            "description": "Specifies an ordered pair of terrain types.",
            "minItems": 2,
            "maxItems": 2,
            "items":{
              "type": "string",
              "title": "Terrain identifier schema",
              "description": "Specifies a terrain type as a key in #/Terrains.",
              "pattern": "^[0-9a-zA-Z_-]+$"
            }
          },
          "Horizontal": {
            "type": "integer",
            "multipleOf": 1,
            "maximum": 256,
            "minimum": -256,
            "title": "Horizontal offset schema",
            "description": "Specifies a horizontal border offset."
          },
          "Vertical": {
            "type": "integer",
            "multipleOf": 1,
            "maximum": 256,
            "minimum": -256,
            "title": "Vertical offset schema",
            "description": "Specifies a vertical border offset."
          },
          "HorizontalAngle": {
            "type": "number",
            "maximum": 90,
            "minimum": -90,
            "title": "Horizontal angle schema",
            "description": "Specifies the angle of entry of a horizontal border."
          },
          "VerticalAngle": {
            "type": "number",
            "maximum": 90,
            "minimum": -90,
            "title": "Vertical angle schema",
            "description": "Specifies the angle of entry of a vertical border."
          }
        },
        "required": [
          "Terrains",
          "Horizontal",
          "Vertical",
          "HorizontalAngle",
          "VerticalAngle"
        ]
      }
    }
  },
  "required": [
    "TileFormat",
    "OutputDirectory",
    "Terrains",
    "Cliques",
    "BorderOffsets"
  ]
}